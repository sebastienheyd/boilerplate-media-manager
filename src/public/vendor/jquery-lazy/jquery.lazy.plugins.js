!function(t,e){"use strict";function r(r,a,n,c,u){function s(){T=t.devicePixelRatio>1,n=f(n),a.delay>=0&&setTimeout((function(){l(!0)}),a.delay),(a.delay<0||a.combined)&&(c.e=function(t,e){var o,n=0;return function(i,c){function u(){n=+new Date,e.call(r,i)}var s=+new Date-n;o&&clearTimeout(o),s>t||!a.enableThrottle||c?u():o=setTimeout(u,t-s)}}(a.throttle,(function(t){"resize"===t.type&&(w=z=-1),l(t.all)})),c.a=function(t){t=f(t),n.push.apply(n,t)},c.g=function(){return n=o(n).filter((function(){return!o(this).data(a.loadedName)}))},c.f=function(t){for(var e=0;e<t.length;e++){var r=n.filter((function(){return this===t[e]}));r.length&&l(!1,r)}},l(),o(a.appendScroll).on("scroll."+u+" resize."+u,c.e))}function f(t){var n=a.defaultImage,i=a.placeholder,c=a.imageBase,u=a.srcsetAttribute,s=a.loaderAttribute,f=a._f||{};t=o(t).filter((function(){var t=o(this),r=v(this);return!t.data(a.handledName)&&(t.attr(a.attribute)||t.attr(u)||t.attr(s)||f[r]!==e)})).data("plugin_"+a.name,r);for(var l=0,d=t.length;l<d;l++){var m=o(t[l]),h=v(t[l]),p=m.attr(a.imageBaseAttribute)||c;h===N&&p&&m.attr(u)&&m.attr(u,g(m.attr(u),p)),f[h]===e||m.attr(s)||m.attr(s,f[h]),h===N&&n&&!m.attr(B)?m.attr(B,n):h===N||!i||m.css(Z)&&"none"!==m.css(Z)||m.css(Z,"url('"+i+"')")}return t}function l(t,e){if(n.length){for(var i=e||n,c=!1,u=a.imageBase||"",s=a.srcsetAttribute,f=a.handledName,l=0;l<i.length;l++)if(t||e||m(i[l])){var h=o(i[l]),p=v(i[l]),g=h.attr(a.attribute),A=h.attr(a.imageBaseAttribute)||u,y=h.attr(a.loaderAttribute);h.data(f)||a.visibleOnly&&!h.is(":visible")||!((g||h.attr(s))&&(p===N&&(A+g!==h.attr(B)||h.attr(s)!==h.attr(D))||p!==N&&A+g!==h.css(Z))||y)||(c=!0,h.data(f,!0),d(h,p,A,y))}c&&(n=o(n).filter((function(){return!o(this).data(f)})))}else a.autoDestroy&&r.destroy()}function d(t,e,r,n){++b;var i=function(){y("onError",t),A(),i=o.noop};y("beforeLoad",t);var c=a.attribute,u=a.srcsetAttribute,s=a.sizesAttribute,f=a.retinaAttribute,l=a.removeAttribute,d=a.loadedName,m=t.attr(f);if(n){var h=function(){l&&t.removeAttr(a.loaderAttribute),t.data(d,!0),y(j,t),setTimeout(A,1),h=o.noop};t.off(L).one(L,i).one(C,h),y(n,t,(function(e){e?(t.off(C),h()):(t.off(L),i())}))||t.trigger(L)}else{var p=o(new Image);p.one(L,i).one(C,(function(){t.hide(),e===N?t.attr(Q,p.attr(Q)).attr(D,p.attr(D)).attr(B,p.attr(B)):t.css(Z,"url('"+p.attr(B)+"')"),t[a.effect](a.effectTime),l&&(t.removeAttr(c+" "+u+" "+f+" "+a.imageBaseAttribute),s!==Q&&t.removeAttr(s)),t.data(d,!0),y(j,t),p.remove(),A()}));var v=(T&&m?m:t.attr(c))||"";p.attr(Q,t.attr(s)).attr(D,t.attr(u)).attr(B,v?r+v:null),p.complete&&p.trigger(C)}}function m(t){var e=t.getBoundingClientRect(),r=a.scrollDirection,o=a.threshold,n=p()+o>e.top&&-o<e.bottom,i=h()+o>e.left&&-o<e.right;return"vertical"===r?n:("horizontal"===r||n)&&i}function h(){return w>=0?w:w=o(t).width()}function p(){return z>=0?z:z=o(t).height()}function v(t){return t.tagName.toLowerCase()}function g(t,e){if(e){var r=t.split(",");t="";for(var a=0,o=r.length;a<o;a++)t+=e+r[a].trim()+(a!==o-1?",":"")}return t}function A(){--b,n.length||b||y("onFinishedAll")}function y(t,e,o){return!!(t=a[t])&&(t.apply(r,[].slice.call(arguments,1)),!0)}var b=0,w=-1,z=-1,T=!1,j="afterLoad",C="load",L="error",N="img",B="src",D="srcset",Q="sizes",Z="background-image";"event"===a.bind||i?s():o(t).on(C+"."+u,s)}function a(a,i){var c=this,u=o.extend({},c.config,i),s={},f=u.name+"-"+ ++n;return c.config=function(t,r){return r===e?u[t]:(u[t]=r,c)},c.addItems=function(t){return s.a&&s.a("string"===o.type(t)?o(t):t),c},c.getItems=function(){return s.g?s.g():{}},c.update=function(t){return s.e&&s.e({},!t),c},c.force=function(t){return s.f&&s.f("string"===o.type(t)?o(t):t),c},c.loadAll=function(){return s.e&&s.e({all:!0},!0),c},c.destroy=function(){return o(u.appendScroll).off("."+f,s.e),o(t).off("."+f),s={},e},r(c,u,a,s,f),u.chainable?a:c}var o=t.jQuery||t.Zepto,n=0,i=!1;o.fn.Lazy=o.fn.lazy=function(t){return new a(this,t)},o.Lazy=o.lazy=function(t,r,n){if(o.isFunction(r)&&(n=r,r=[]),o.isFunction(n)){t=o.isArray(t)?t:[t],r=o.isArray(r)?r:[r];for(var i=a.prototype.config,c=i._f||(i._f={}),u=0,s=t.length;u<s;u++)(i[t[u]]===e||o.isFunction(i[t[u]]))&&(i[t[u]]=n);for(var f=0,l=r.length;f<l;f++)c[r[f]]=t[0]}},a.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},o(t).on("load",(function(){i=!0}))}(window),function(t){function e(e,r,a,o){var n;"POST"!==(o=o?o.toUpperCase():"GET")&&"PUT"!==o||!e.config("ajaxCreateData")||(n=e.config("ajaxCreateData").apply(e,[r])),t.ajax({url:r.attr("data-src"),type:"POST"===o||"PUT"===o?o:"GET",data:n,dataType:r.attr("data-type")||"html",success:function(t){r.html(t),a(!0),e.config("removeAttribute")&&r.removeAttr("data-src data-method data-type")},error:function(){a(!1)}})}t.lazy("ajax",(function(t,r){e(this,t,r,t.attr("data-method"))})),t.lazy("get",(function(t,r){e(this,t,r,"GET")})),t.lazy("post",(function(t,r){e(this,t,r,"POST")})),t.lazy("put",(function(t,r){e(this,t,r,"PUT")}))}(window.jQuery||window.Zepto),function(t){t.lazy(["av","audio","video"],["audio","video"],(function(e,r){var a=e[0].tagName.toLowerCase();if("audio"===a||"video"===a){var o="data-src",n=e.find(o),i=e.find("data-track"),c=0,u=function(){++c===n.length&&r(!1)},s=function(){var e=t(this),r=e[0].tagName.toLowerCase(),a=e.prop("attributes"),n=t(r===o?"<source>":"<track>");r===o&&n.one("error",u),t.each(a,(function(t,e){n.attr(e.name,e.value)})),e.replaceWith(n)};e.one("loadedmetadata",(function(){r(!0)})).off("load error").attr("poster",e.attr("data-poster")),n.length?n.each(s):e.attr(o)?(t.each(e.attr(o).split(","),(function(r,a){var o=a.split("|");e.append(t("<source>").one("error",u).attr({src:o[0].trim(),type:o[1].trim()}))})),this.config("removeAttribute")&&e.removeAttr(o)):r(!1),i.length&&i.each(s)}else r(!1)}))}(window.jQuery||window.Zepto),function(t){t.lazy(["frame","iframe"],"iframe",(function(e,r){var a=this;if("iframe"===e[0].tagName.toLowerCase()){var o="data-src",n="data-error-detect",i=e.attr(n);"true"!==i&&"1"!==i?(e.attr("src",e.attr(o)),a.config("removeAttribute")&&e.removeAttr(o+" "+n)):t.ajax({url:e.attr(o),dataType:"html",crossDomain:!0,xhrFields:{withCredentials:!0},success:function(t){e.html(t).attr("src",e.attr(o)),a.config("removeAttribute")&&e.removeAttr(o+" "+n)},error:function(){r(!1)}})}else r(!1)}))}(window.jQuery||window.Zepto),function(t){t.lazy("noop",(function(){})),t.lazy("noop-success",(function(t,e){e(!0)})),t.lazy("noop-error",(function(t,e){e(!1)}))}(window.jQuery||window.Zepto),function(t){var e="data-src",r="data-srcset",a="data-media",o="data-sizes",n="data-type";function i(r,a,o){var n=r.prop("attributes"),i=t("<"+a+">");return t.each(n,(function(t,r){"srcset"!==r.name&&r.name!==e||(r.value=u(r.value,o)),i.attr(r.name,r.value)})),r.replaceWith(i),i}function c(e,r,a){var o=t("<img>").one("load",(function(){a(!0)})).one("error",(function(){a(!1)})).appendTo(e).attr("src",r);o.complete&&o.load()}function u(t,e){if(e){var r=t.split(",");t="";for(var a=0,o=r.length;a<o;a++)t+=e+r[a].trim()+(a!==o-1?",":"")}return t}t.lazy(["pic","picture"],["picture"],(function(s,f){if("picture"===s[0].tagName.toLowerCase()){var l=s.find(e),d=s.find("data-img"),m=this.config("imageBase")||"";l.length?(l.each((function(){i(t(this),"source",m)})),1===d.length?((d=i(d,"img",m)).on("load",(function(){f(!0)})).on("error",(function(){f(!1)})),d.attr("src",d.attr(e)),this.config("removeAttribute")&&d.removeAttr(e)):s.attr(e)?(c(s,m+s.attr(e),f),this.config("removeAttribute")&&s.removeAttr(e)):f(!1)):s.attr(r)?(t("<source>").attr({media:s.attr(a),sizes:s.attr(o),type:s.attr(n),srcset:u(s.attr(r),m)}).appendTo(s),c(s,m+s.attr(e),f),this.config("removeAttribute")&&s.removeAttr(e+" "+r+" "+a+" "+o+" "+n)):f(!1)}else f(!1)}))}(window.jQuery||window.Zepto),(window.jQuery||window.Zepto).lazy(["js","javascript","script"],"script",(function(t,e){"script"===t[0].tagName.toLowerCase()?(t.attr("src",t.attr("data-src")),this.config("removeAttribute")&&t.removeAttr("data-src")):e(!1)})),(window.jQuery||window.Zepto).lazy("vimeo",(function(t,e){"iframe"===t[0].tagName.toLowerCase()?(t.attr("src","https://player.vimeo.com/video/"+t.attr("data-src")),this.config("removeAttribute")&&t.removeAttr("data-src")):e(!1)})),(window.jQuery||window.Zepto).lazy(["yt","youtube"],(function(t,e){if("iframe"===t[0].tagName.toLowerCase()){var r=/1|true/.test(t.attr("data-nocookie"));t.attr("src","https://www.youtube"+(r?"-nocookie":"")+".com/embed/"+t.attr("data-src")+"?rel=0&amp;showinfo=0"),this.config("removeAttribute")&&t.removeAttr("data-src")}else e(!1)}));
